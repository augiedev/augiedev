<apex:page showHeader="false" sidebar="false" standardStylesheets="false">
<apex:includeScript value="{!URLFOR($Resource.streamingAPI,'jquery-1.5.1.js')}" />
<apex:includeScript value="{!URLFOR($Resource.streamingAPI,'json2.js')}" />
<apex:includeScript value="{!URLFOR($Resource.streamingAPI,'cometd.js')}" />
<apex:includeScript value="{!URLFOR($Resource.streamingAPI,'jquery.cometd.js')}" />

<script type="text/javascript">
	(function($){
		$(document).ready(function() {
			// Connect to the CometD endpoint
			$.cometd.init({
					url: window.location.protocol+'//'+window.location.hostname+'/cometd/26.0/',
					requestHeaders: { Authorization: 'OAuth {!$Api.Session_ID}'}
				});
			// Subscribe to a topic. JSON-encoded update will be returned
			// in the callback
			$.cometd.subscribe('/topic/GetCreatedAccounts', function(message) {
				$('#createdAccounts').append('<p>ACCOUNT NAME: ' + message.data.sobject.Name +
											 '<br/>ACCOUNT INDUSTRY: ' + message.data.sobject.Industry +
											 '<br/>ACCOUNT BUSINESS NUMBER: ' + message.data.sobject.Business_Number__c +
											 '</p>'
				);
			});
		});
	})(jQuery)
</script>
<body>

<h1>Accounts Created Today</h1>

<div id="createdAccounts">
List of Accounts are:<br/>
</div>

</body>
</apex:page>